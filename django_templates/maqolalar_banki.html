{% extends "base.html" %}
{% load static %}

{% block title %}Maqolalar banki - Yosh Tadqiqotchi{% endblock %}

{% block extra_head %}
<style>
@keyframes fadeInUp {
    from { opacity: 0; transform: translateY(40px); }
    to { opacity: 1; transform: translateY(0); }
}
@keyframes scaleIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
}
.scroll-section {
    opacity: 0;
    transform: translateY(80px) scale(0.95);
    transition: opacity 1s cubic-bezier(0.4, 0, 0.2, 1), transform 1s cubic-bezier(0.4, 0, 0.2, 1);
}
.scroll-section.visible {
    opacity: 1;
    transform: translateY(0) scale(1);
}
</style>
{% endblock %}

{% block content %}
    <section class="subpage-hero stipendiya-hero scroll-section">
        <div class="subpage-hero-inner">
            <div class="subpage-hero-text">
                <div class="subpage-breadcrumb">
                    <a href="{% url 'main:home' %}">Bosh sahifa</a>
                    <span>//</span>
                    <span>Ilmiy nashrlar va bazalar</span>
                    <span>//</span>
                    <span>Maqolalar banki</span>
                </div>
                <h1 class="title subpage-title">Maqolalar banki</h1>
                <p class="subtitle subpage-subtitle">
                    BuxDU professor-o'qituvchilari va tadqiqotchilarining ilmiy maqolalari saqlanadigan turli xalqaro va
                    mahalliy bazalarga tezkor ulanish uchun yagona ma'lumotlar sahifasi.
                </p>
            </div>
            <div class="subpage-hero-illustration">
                <div class="subpage-hero-pill">
                    <span class="badge" style="margin-bottom: 0;">
                        <i class="fas fa-file-alt"></i>
                        <span>Maqolalar bazalari</span>
                    </span>
                </div>
                <div class="subpage-hero-image-wrapper">
                    <img src="{% static 'assets/bank.jpg' %}" alt="Maqolalar banki" class="subpage-hero-image" />
                </div>
            </div>
        </div>
    </section>

    <section class="stipendiya-table-section scroll-section">
        <div class="stipendiya-container">
            <div class="card stipendiya-table-card">
                <div class="stipendiya-table-header">
                    <h2 class="subtitle">Asosiy ilmiy maqolalar bazalari</h2>
                    <p class="text-muted">
                        Har bir qatorda maqolalar bazasining nomi, unda maqola izlash bo'yicha qisqa yo'riqnoma va shu baza
                        qidiruv sahifasiga olib boradigan rasmiy havola joylashgan. Foydalanuvchi hech narsa yuklamaydi,
                        faqat bazaga o'tib maqolalarni ko'rib chiqadi.
                    </p>
                </div>
                <div class="stipendiya-table-wrapper">
                    <table class="stipendiya-table">
                        <thead>
                            <tr>
                                <th style="width: 60px;">T/r</th>
                                <th>Maqolalar bazasining nomi</th>
                                <th>Yo'riqnoma</th>
                                <th style="text-align: right;">Baza silkasi</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for article in articles %}
                            <tr>
                                <td>{{ forloop.counter }}</td>
                                <td>{{ article.name }}</td>
                                <td>{{ article.short_guide }}</td>
                                <td class="stipendiya-table-action">
                                    <a href="{{ article.database_link }}" target="_blank" class="btn-gradient stipendiya-action-btn">Bazaga o'tish</a>
                                </td>
                            </tr>
                            {% empty %}
                            <tr>
                                <td colspan="4" style="text-align: center; padding: 40px;">
                                    <i class="fas fa-file-alt" style="font-size: 48px; color: #ccc; margin-bottom: 15px;"></i>
                                    <p style="color: #999; font-size: 16px;">Hozircha maqolalar bazalari ma'lumotlari mavjud emas.</p>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block extra_scripts %}
<script>
(function() {
    const observerOptions = {
        threshold: 0.15,
        rootMargin: '0px 0px -100px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, observerOptions);
    
    const scrollSections = document.querySelectorAll('.scroll-section');
    scrollSections.forEach(section => {
        observer.observe(section);
    });
})();
</script>
{% endblock %}
